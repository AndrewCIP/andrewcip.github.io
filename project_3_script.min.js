const _0xeac11c=_0x5e6c;(function(_0x44b812,_0x13b8b0){const _0x52bc77=_0x5e6c,_0x2bbd4d=_0x44b812();while(!![]){try{const _0x3b899c=parseInt(_0x52bc77(0x172))/0x1+parseInt(_0x52bc77(0x123))/0x2*(-parseInt(_0x52bc77(0xf8))/0x3)+parseInt(_0x52bc77(0x1a5))/0x4*(parseInt(_0x52bc77(0xfc))/0x5)+parseInt(_0x52bc77(0x140))/0x6+-parseInt(_0x52bc77(0x15e))/0x7+-parseInt(_0x52bc77(0x12a))/0x8*(parseInt(_0x52bc77(0x17b))/0x9)+-parseInt(_0x52bc77(0x149))/0xa*(-parseInt(_0x52bc77(0x104))/0xb);if(_0x3b899c===_0x13b8b0)break;else _0x2bbd4d['push'](_0x2bbd4d['shift']());}catch(_0x3404a8){_0x2bbd4d['push'](_0x2bbd4d['shift']());}}}(_0x58ee,0xa55cc));class Renderer{constructor(_0xc7f5ce){const _0x4234cf=_0x5e6c;this[_0x4234cf(0x191)]=_0xc7f5ce,this[_0x4234cf(0x103)]=[],this[_0x4234cf(0x171)]={'r':0.95,'g':0.92,'b':0.88,'a':0x1};}async[_0xeac11c(0x186)](){const _0x4b105b=_0xeac11c;if(!navigator[_0x4b105b(0x102)])throw Error(_0x4b105b(0x18e));const _0x4a82e3=await navigator[_0x4b105b(0x102)][_0x4b105b(0x157)]();if(!_0x4a82e3)throw Error(_0x4b105b(0xf5));this['_device']=await _0x4a82e3[_0x4b105b(0xd8)](),this[_0x4b105b(0x195)]=this[_0x4b105b(0x191)]['getContext'](_0x4b105b(0x184)),this[_0x4b105b(0x144)]=navigator[_0x4b105b(0x102)][_0x4b105b(0x173)](),this['_context']['configure']({'device':this[_0x4b105b(0x148)],'format':this[_0x4b105b(0x144)]}),this[_0x4b105b(0x199)](),window['addEventListener'](_0x4b105b(0x15b),this[_0x4b105b(0x199)][_0x4b105b(0xd9)](this));}['resizeCanvas'](){const _0x20d9bd=_0xeac11c,_0x29237d=window[_0x20d9bd(0x13f)]||0x1,_0x32e300=window[_0x20d9bd(0x165)]*_0x29237d,_0x1e7b61=window['innerHeight']*_0x29237d;this[_0x20d9bd(0x191)][_0x20d9bd(0xe4)]=_0x32e300,this[_0x20d9bd(0x191)][_0x20d9bd(0xf2)]=_0x1e7b61,this['_canvas']['style'][_0x20d9bd(0xe4)]=window[_0x20d9bd(0x165)]+'px',this[_0x20d9bd(0x191)][_0x20d9bd(0x133)][_0x20d9bd(0xf2)]=window[_0x20d9bd(0x129)]+'px',this['render']();}async[_0xeac11c(0x19f)](_0x51e6ef){const _0xb7486=_0xeac11c;await _0x51e6ef[_0xb7486(0x186)](),this['_objects']['push'](_0x51e6ef);}[_0xeac11c(0x16c)](_0x3205fc){const _0x3c976f=_0xeac11c;for(const _0x423564 of this[_0x3c976f(0x103)]){_0x423564?.['updateGeometry']();}let _0x1db74b=this['_device']['createCommandEncoder']();const _0x213b9f=_0x1db74b[_0x3c976f(0x14a)]({'colorAttachments':[{'view':_0x3205fc,'clearValue':this[_0x3c976f(0x171)],'loadOp':'clear','storeOp':_0x3c976f(0x11e)}]});for(const _0x55dd98 of this['_objects']){_0x55dd98?.[_0x3c976f(0x127)](_0x213b9f);}_0x213b9f[_0x3c976f(0x13c)]();const _0x52faf1=_0x1db74b[_0x3c976f(0xea)]();for(const _0x37570f of this[_0x3c976f(0x103)]){_0x37570f?.[_0x3c976f(0x108)](_0x52faf1);}_0x52faf1['end']();const _0xf8c228=_0x1db74b['finish']();this['_device']['queue'][_0x3c976f(0xe1)]([_0xf8c228]);}[_0xeac11c(0x127)](){const _0x5f2e2e=_0xeac11c;this[_0x5f2e2e(0x16c)](this[_0x5f2e2e(0x195)]['getCurrentTexture']()[_0x5f2e2e(0x167)]());}}class PGA2D{static[_0xeac11c(0x14b)](_0x3afe06,_0x51cdbb){return[_0x3afe06[0x0]*_0x51cdbb[0x0]-_0x3afe06[0x1]*_0x51cdbb[0x1],_0x3afe06[0x0]*_0x51cdbb[0x1]+_0x3afe06[0x1]*_0x51cdbb[0x0],_0x3afe06[0x0]*_0x51cdbb[0x2]+_0x3afe06[0x1]*_0x51cdbb[0x3]+_0x3afe06[0x2]*_0x51cdbb[0x0]-_0x3afe06[0x3]*_0x51cdbb[0x1],_0x3afe06[0x0]*_0x51cdbb[0x3]-_0x3afe06[0x1]*_0x51cdbb[0x2]+_0x3afe06[0x2]*_0x51cdbb[0x1]+_0x3afe06[0x3]*_0x51cdbb[0x0]];}static[_0xeac11c(0x188)](_0x2ff0b5){return[_0x2ff0b5[0x0],-_0x2ff0b5[0x1],-_0x2ff0b5[0x2],-_0x2ff0b5[0x3]];}static['applyMotor'](_0x58396b,_0x3a9c4f){const _0x492f10=_0xeac11c;return PGA2D[_0x492f10(0x14b)](_0x3a9c4f,PGA2D[_0x492f10(0x14b)](_0x58396b,PGA2D[_0x492f10(0x188)](_0x3a9c4f)));}static['motorNorm'](_0x3d8f95){const _0x46467c=_0xeac11c;return Math[_0x46467c(0xe8)](_0x3d8f95[0x0]*_0x3d8f95[0x0]+_0x3d8f95[0x1]*_0x3d8f95[0x1]+_0x3d8f95[0x2]*_0x3d8f95[0x2]+_0x3d8f95[0x3]*_0x3d8f95[0x3]);}static[_0xeac11c(0xe5)](_0x36ac98,_0x13a998){return[0x1,0x0,-_0x36ac98/0x2,-_0x13a998/0x2];}static[_0xeac11c(0x166)](_0xe07c0a,_0xd880d6=0x0,_0x860dd1=0x0){const _0x2171b8=_0xeac11c;let _0x53a75d=PGA2D['createPoint'](_0xd880d6,_0x860dd1);return[Math['cos'](_0xe07c0a/0x2),Math[_0x2171b8(0x18d)](_0xe07c0a/0x2)*_0x53a75d[0x1],Math['sin'](_0xe07c0a/0x2)*_0x53a75d[0x2],Math[_0x2171b8(0x18d)](_0xe07c0a/0x2)*_0x53a75d[0x3]];}static[_0xeac11c(0x14f)](_0x5ca036,_0x3117d0){return[0x0,0x1,_0x3117d0,-_0x5ca036];}static[_0xeac11c(0xe7)](_0x3deee9){return[-_0x3deee9[0x3]/_0x3deee9[0x1],_0x3deee9[0x2]/_0x3deee9[0x1]];}static['normalizeMotor'](_0x1af9df){const _0x3fe48d=_0xeac11c;let _0x136cc9=PGA2D[_0x3fe48d(0xdf)](_0x1af9df);if(_0x136cc9==0x0)return[0x1,0x0,0x0,0x0];return[_0x1af9df[0x0]/_0x136cc9,_0x1af9df[0x1]/_0x136cc9,_0x1af9df[0x2]/_0x136cc9,_0x1af9df[0x3]/_0x136cc9];}static['applyMotorToPoint'](_0x44fd9f,_0x2bd587){const _0x3e56cf=_0xeac11c;let _0x53b541=PGA2D[_0x3e56cf(0x185)](PGA2D['createPoint'](_0x44fd9f[0x0],_0x44fd9f[0x1]),_0x2bd587);return PGA2D[_0x3e56cf(0xe7)](_0x53b541);}static['isInside'](_0x840148,_0x241dbb,_0x2eef3b){const _0x232fd3=_0xeac11c,_0x25fb96=PGA2D['createPoint'](_0x241dbb[0x0]-_0x840148[0x0],_0x241dbb[0x1]-_0x840148[0x1]),_0x595ff3=PGA2D[_0x232fd3(0x14f)](_0x2eef3b[0x0]-_0x840148[0x0],_0x2eef3b[0x1]-_0x840148[0x1]);return(_0x241dbb[0x0]-_0x840148[0x0])*(_0x2eef3b[0x1]-_0x840148[0x1])-(_0x241dbb[0x1]-_0x840148[0x1])*(_0x2eef3b[0x0]-_0x840148[0x0])>0x0;}};class Camera{constructor(){const _0x4df1c1=_0xeac11c;this[_0x4df1c1(0x198)]=new Float32Array([0x1,0x0,0x0,0x0,0x1,0x1]);}[_0xeac11c(0x132)](_0x35b611){const _0x5c380c=_0xeac11c;this[_0x5c380c(0x198)][0x0]=_0x35b611[0x0],this[_0x5c380c(0x198)][0x1]=_0x35b611[0x1],this[_0x5c380c(0x198)][0x2]=_0x35b611[0x2],this[_0x5c380c(0x198)][0x3]=_0x35b611[0x3];}[_0xeac11c(0xf1)](_0x38ef41){const _0x2e1d0d=_0xeac11c;let _0x3e4721=PGA2D[_0x2e1d0d(0xe5)](-_0x38ef41,0x0),_0x1835a6=PGA2D['normalizeMotor'](PGA2D[_0x2e1d0d(0x14b)](_0x3e4721,[this[_0x2e1d0d(0x198)][0x0],this[_0x2e1d0d(0x198)][0x1],this[_0x2e1d0d(0x198)][0x2],this[_0x2e1d0d(0x198)][0x3]]));this['updatePose'](_0x1835a6);}[_0xeac11c(0x117)](_0x33deb3){const _0x51508b=_0xeac11c;let _0x2413be=PGA2D[_0x51508b(0xe5)](_0x33deb3,0x0),_0x346841=PGA2D[_0x51508b(0xf9)](PGA2D['geometricProduct'](_0x2413be,[this[_0x51508b(0x198)][0x0],this[_0x51508b(0x198)][0x1],this['_pose'][0x2],this[_0x51508b(0x198)][0x3]]));this['updatePose'](_0x346841);}[_0xeac11c(0x160)](_0xdac7c7){const _0x2f3301=_0xeac11c;let _0x350f9a=PGA2D[_0x2f3301(0xe5)](0x0,_0xdac7c7),_0x597d57=PGA2D['normalizeMotor'](PGA2D['geometricProduct'](_0x350f9a,[this[_0x2f3301(0x198)][0x0],this[_0x2f3301(0x198)][0x1],this['_pose'][0x2],this[_0x2f3301(0x198)][0x3]]));this[_0x2f3301(0x132)](_0x597d57);}['moveDown'](_0x23c5a6){const _0x333d31=_0xeac11c;let _0x3fbf51=PGA2D[_0x333d31(0xe5)](0x0,-_0x23c5a6),_0x5c3e50=PGA2D['normalizeMotor'](PGA2D[_0x333d31(0x14b)](_0x3fbf51,[this[_0x333d31(0x198)][0x0],this[_0x333d31(0x198)][0x1],this[_0x333d31(0x198)][0x2],this['_pose'][0x3]]));this[_0x333d31(0x132)](_0x5c3e50);}['zoomIn'](){const _0x16aa20=_0xeac11c;this[_0x16aa20(0x198)][0x4]*=1.1,this[_0x16aa20(0x198)][0x5]*=1.1;}[_0xeac11c(0xed)](){const _0x524e9e=_0xeac11c;!this['isOriginalSize']()&&(this['_pose'][0x4]/=1.1,this[_0x524e9e(0x198)][0x5]/=1.1);}[_0xeac11c(0x194)](){const _0x446dc9=_0xeac11c,_0x58827b=0.0001;return Math[_0x446dc9(0x11b)](this['_pose'][0x4]-0x1)<_0x58827b&&Math[_0x446dc9(0x11b)](this['_pose'][0x5]-0x1)<_0x58827b;}}class SceneObject{static ['_objectCnt']=0x0;constructor(_0x5723b5,_0x578110,_0x292097){const _0x2782b6=_0xeac11c;if(this['constructor']==SceneObject)throw new Error('Abstract\x20classes\x20can\x27t\x20be\x20instantiated.');this[_0x2782b6(0x148)]=_0x5723b5,this[_0x2782b6(0x144)]=_0x578110,this[_0x2782b6(0xde)]=_0x292097,SceneObject[_0x2782b6(0xe9)]+=0x1;}['getName'](){const _0x2dbdeb=_0xeac11c;return this['constructor'][_0x2dbdeb(0x197)]+'\x20'+SceneObject[_0x2dbdeb(0xe9)][_0x2dbdeb(0x137)]();}async['init'](){const _0x1210e2=_0xeac11c;await this['createGeometry'](),await this[_0x1210e2(0x122)](),await this['createRenderPipeline'](),await this['createComputePipeline']();}async[_0xeac11c(0x10b)](){const _0x47eb6d=_0xeac11c;throw new Error(_0x47eb6d(0xfe));}['updateGeometry'](){}[_0xeac11c(0x120)](_0x55f6d9){return new Promise((_0x4778a,_0x5af569)=>{const _0x1bc7a1=_0x5e6c,_0x391732=new XMLHttpRequest();_0x391732[_0x1bc7a1(0x192)](_0x1bc7a1(0x161),_0x55f6d9),_0x391732[_0x1bc7a1(0x162)](_0x1bc7a1(0x109),_0x1bc7a1(0x16a)),_0x391732[_0x1bc7a1(0x1a9)]=function(){const _0x535705=_0x1bc7a1;_0x391732[_0x535705(0x110)]===XMLHttpRequest['DONE']&&_0x391732[_0x535705(0x19d)]===0xc8?_0x4778a(_0x391732[_0x535705(0x1ae)]):_0x5af569({'status':_0x391732[_0x535705(0x19d)],'statusText':_0x391732[_0x535705(0x193)]});},_0x391732['onerror']=function(){const _0x1d67ad=_0x1bc7a1;_0x5af569({'status':_0x391732[_0x1d67ad(0x19d)],'statusText':_0x391732[_0x1d67ad(0x193)]});},_0x391732['send']();});}async[_0xeac11c(0x122)](){const _0x1af80c=_0xeac11c;let _0x5a792a=await this['loadShader'](this[_0x1af80c(0xde)]);this[_0x1af80c(0x138)]=this[_0x1af80c(0x148)]['createShaderModule']({'label':_0x1af80c(0x1aa)+this[_0x1af80c(0x13e)](),'code':_0x5a792a});}async[_0xeac11c(0x13b)](){const _0x386f93=_0xeac11c;throw new Error(_0x386f93(0x169));}[_0xeac11c(0x127)](_0x1e50a0){throw new Error('Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.');}async[_0xeac11c(0x180)](){const _0x21226b=_0xeac11c;throw new Error(_0x21226b(0x168));}[_0xeac11c(0x108)](_0x2618ca){const _0xe0dddd=_0xeac11c;throw new Error(_0xe0dddd(0x147));}};class Camera2DVertexObject extends SceneObject{constructor(_0x32ef41,_0x50ae67,_0x2e6b1a,_0x2fb527,_0x270af2,_0x3fb114,_0x370a4b){const _0x4f8968=_0xeac11c;super(_0x32ef41,_0x50ae67,_0x270af2),this[_0x4f8968(0x196)]=_0x2e6b1a,this['_vertices']=_0x2fb527,this[_0x4f8968(0x174)]=_0x3fb114,this[_0x4f8968(0x113)]=_0x370a4b;}async[_0xeac11c(0x10b)](){const _0x4b4b4d=_0xeac11c;this[_0x4b4b4d(0x128)]=this[_0x4b4b4d(0x148)][_0x4b4b4d(0xda)]({'label':_0x4b4b4d(0x134)+this[_0x4b4b4d(0x13e)](),'size':this['_vertices'][_0x4b4b4d(0xfd)],'usage':GPUBufferUsage[_0x4b4b4d(0x106)]|GPUBufferUsage['COPY_DST']}),this['_device'][_0x4b4b4d(0x15d)][_0x4b4b4d(0xd7)](this[_0x4b4b4d(0x128)],0x0,this[_0x4b4b4d(0xe2)]),this[_0x4b4b4d(0xdd)]={'arrayStride':0x2*Float32Array[_0x4b4b4d(0x112)],'attributes':[{'shaderLocation':0x0,'format':_0x4b4b4d(0x183),'offset':0x0}]},this[_0x4b4b4d(0x116)]=this['_device'][_0x4b4b4d(0xda)]({'label':_0x4b4b4d(0x10f)+this[_0x4b4b4d(0x13e)](),'size':this[_0x4b4b4d(0x196)][_0x4b4b4d(0xfd)],'usage':GPUBufferUsage[_0x4b4b4d(0x107)]|GPUBufferUsage[_0x4b4b4d(0xec)]}),this[_0x4b4b4d(0x148)][_0x4b4b4d(0x15d)][_0x4b4b4d(0xd7)](this['_cameraPoseBuffer'],0x0,this['_cameraPose']);}async[_0xeac11c(0x13b)](){const _0xde8e2f=_0xeac11c;this[_0xde8e2f(0x10d)]=this[_0xde8e2f(0x148)][_0xde8e2f(0x13b)]({'label':_0xde8e2f(0x15c)+this[_0xde8e2f(0x13e)](),'layout':'auto','vertex':{'module':this[_0xde8e2f(0x138)],'entryPoint':_0xde8e2f(0x1a1),'buffers':[this[_0xde8e2f(0xdd)]]},'fragment':{'module':this['_shaderModule'],'entryPoint':_0xde8e2f(0x12c),'targets':[{'format':this[_0xde8e2f(0x144)]}]},'primitive':{'topology':this[_0xde8e2f(0x174)]}}),this[_0xde8e2f(0xe6)]=this[_0xde8e2f(0x148)][_0xde8e2f(0x175)]({'label':_0xde8e2f(0x190)+this[_0xde8e2f(0x13e)](),'layout':this['_renderPipeline'][_0xde8e2f(0x146)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0xde8e2f(0x116)]}}]});}[_0xeac11c(0x15a)](){const _0x37354c=_0xeac11c;this[_0x37354c(0x148)][_0x37354c(0x15d)]['writeBuffer'](this['_cameraPoseBuffer'],0x0,this[_0x37354c(0x196)]);}['render'](_0x482ed5){const _0x1ef581=_0xeac11c;_0x482ed5[_0x1ef581(0x143)](this[_0x1ef581(0x10d)]),_0x482ed5['setVertexBuffer'](0x0,this['_vertexBuffer']),_0x482ed5[_0x1ef581(0x13a)](0x0,this[_0x1ef581(0xe6)]),_0x482ed5[_0x1ef581(0x1af)](this['_vertices'][_0x1ef581(0xe0)]/0x2,this['_numInstances']);}async[_0xeac11c(0x180)](){}['compute'](_0x17575d){}}class StandardTextObject{constructor(_0x49c961,_0x478122=0x5,_0xb8e5db=_0xeac11c(0x1a8)){const _0x44dc75=_0xeac11c;this['_textFont']=_0xb8e5db,this[_0x44dc75(0x17c)]=_0x478122,this[_0x44dc75(0x19e)]=document[_0x44dc75(0x130)]('canvas'),this[_0x44dc75(0x1a7)]=this[_0x44dc75(0x19e)][_0x44dc75(0x136)]('2d'),this[_0x44dc75(0x1ab)](_0x49c961),this[_0x44dc75(0x12b)](_0x49c961),this[_0x44dc75(0x19e)][_0x44dc75(0x133)][_0x44dc75(0x1a6)]=_0x44dc75(0x11d),this[_0x44dc75(0x19e)][_0x44dc75(0x133)][_0x44dc75(0x17d)]=_0x44dc75(0x159),this[_0x44dc75(0x19e)]['style']['left']=_0x44dc75(0x159),this[_0x44dc75(0x19e)][_0x44dc75(0x133)][_0x44dc75(0x118)]='1px\x20solid\x20red',document['body']['appendChild'](this[_0x44dc75(0x19e)]);}['updateTextRegion'](_0xd8eba8){const _0x4d8ef1=_0xeac11c;this['_textContext']['font']=this[_0x4d8ef1(0x141)],this[_0x4d8ef1(0x179)]=_0xd8eba8['split']('\x0a'),this[_0x4d8ef1(0x135)]=Math[_0x4d8ef1(0x121)](...this[_0x4d8ef1(0x179)]['map'](_0x484cc7=>this[_0x4d8ef1(0x1a7)][_0x4d8ef1(0xff)](_0x484cc7)['width']));const _0xa98e30=this[_0x4d8ef1(0x141)][_0x4d8ef1(0x145)](/(\d+)px/);_0xa98e30?this['_fontSize']=parseInt(_0xa98e30[0x1],0xa):(this[_0x4d8ef1(0x187)]=0x12,this['_textFont']=_0x4d8ef1(0x1a8)),this[_0x4d8ef1(0x18b)]=this[_0x4d8ef1(0x179)]['length']*(this['_fontSize']+this['_lineSpacing']),this['_paddingx']=0x5,this[_0x4d8ef1(0x111)]=0x3,this[_0x4d8ef1(0x17e)]=Math['ceil'](this['_width']+this[_0x4d8ef1(0x155)]*0x2),this['_canvasHeight']=Math[_0x4d8ef1(0x119)](this[_0x4d8ef1(0x18b)]+this[_0x4d8ef1(0x111)]),this['_textCanvas'][_0x4d8ef1(0xe4)]=this[_0x4d8ef1(0x17e)],this['_textCanvas'][_0x4d8ef1(0xf2)]=this[_0x4d8ef1(0x115)],this['_textContext']['font']=this[_0x4d8ef1(0x141)],this['_textContext']['textBaseline']='top';}['updateText'](_0x3fe61a){const _0x1ca9f3=_0xeac11c;this[_0x1ca9f3(0x179)]=_0x3fe61a['split']('\x0a'),this[_0x1ca9f3(0x1a7)][_0x1ca9f3(0x1a2)]=_0x1ca9f3(0x18c),this[_0x1ca9f3(0x1a7)][_0x1ca9f3(0x16f)](0x0,0x0,this[_0x1ca9f3(0x17e)],this['_canvasHeight']),this[_0x1ca9f3(0x1a7)][_0x1ca9f3(0x1b0)](0x0,0x0,this[_0x1ca9f3(0x17e)],this[_0x1ca9f3(0x115)]),this[_0x1ca9f3(0x1a7)][_0x1ca9f3(0x1a2)]='white',this[_0x1ca9f3(0x179)][_0x1ca9f3(0x11c)]((_0x448694,_0xa5be64)=>{const _0x2a9ba5=_0x1ca9f3,_0x4f457a=this[_0x2a9ba5(0x155)],_0x403f28=this[_0x2a9ba5(0x111)]+_0xa5be64*(this[_0x2a9ba5(0x187)]+this[_0x2a9ba5(0x17c)]);this['_textContext'][_0x2a9ba5(0x11a)](_0x448694,_0x4f457a,_0x403f28);});}[_0xeac11c(0xf0)](){const _0xed3220=_0xeac11c;this[_0xed3220(0x19e)][_0xed3220(0x178)]=!this[_0xed3220(0x19e)][_0xed3220(0x178)];}[_0xeac11c(0x18f)](_0x3f038a,_0x58bc4c){const _0x486c8a=_0xeac11c;this[_0x486c8a(0x19e)][_0x486c8a(0x133)][_0x486c8a(0x17d)]=_0x3f038a+'px',this[_0x486c8a(0x19e)][_0x486c8a(0x133)][_0x486c8a(0x189)]=_0x58bc4c+'px';}};;class Grid extends Camera2DVertexObject{constructor(_0x38c578,_0x4e0877,_0x1c8722,_0x59afcd,_0xc63da9,_0x3e9d11,_0x593286){super(_0x38c578,_0x4e0877,_0x1c8722,_0x59afcd,_0xc63da9,_0x3e9d11,_0x593286);}async[_0xeac11c(0x10b)](){const _0x164c09=_0xeac11c;super[_0x164c09(0x10b)](),this[_0x164c09(0xf4)]=new Uint32Array(this[_0x164c09(0x113)]);for(let _0x567f37=0x0;_0x567f37<this[_0x164c09(0xf4)][_0x164c09(0xe0)];_0x567f37++){this[_0x164c09(0xf4)][_0x567f37]=Math[_0x164c09(0x14d)]()>0.5?0x1:0x0;}this[_0x164c09(0x114)]=[this[_0x164c09(0x148)][_0x164c09(0xda)]({'label':_0x164c09(0xf7)+this[_0x164c09(0x13e)](),'size':this[_0x164c09(0xf4)][_0x164c09(0xfd)],'usage':GPUBufferUsage[_0x164c09(0x11f)]|GPUBufferUsage[_0x164c09(0xec)]}),this[_0x164c09(0x148)][_0x164c09(0xda)]({'label':_0x164c09(0x152)+this[_0x164c09(0x13e)](),'size':this[_0x164c09(0xf4)][_0x164c09(0xfd)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage['COPY_DST']})],this[_0x164c09(0x148)]['queue'][_0x164c09(0xd7)](this[_0x164c09(0x114)][0x0],0x0,this[_0x164c09(0xf4)]),this[_0x164c09(0xe3)]=0x0,this[_0x164c09(0xeb)]=Math[_0x164c09(0xe8)](this[_0x164c09(0x113)]),this['_gridHeight']=this[_0x164c09(0xeb)],this['_gridInfoBuffer']=this[_0x164c09(0x148)][_0x164c09(0xda)]({'label':'Grid\x20Info\x20Buffer','size':0x2*0x4,'usage':GPUBufferUsage[_0x164c09(0x107)]|GPUBufferUsage[_0x164c09(0xec)]});const _0x30b489=new Uint32Array([this['_gridWidth'],this[_0x164c09(0xfb)]]);this[_0x164c09(0x148)][_0x164c09(0x15d)][_0x164c09(0xd7)](this[_0x164c09(0xfa)],0x0,_0x30b489);}[_0xeac11c(0x153)](){const _0x2a8473=_0xeac11c;for(let _0x2ee769=0x0;_0x2ee769<this['_cellStatus'][_0x2a8473(0xe0)];++_0x2ee769){this['_cellStatus'][_0x2ee769]=Math[_0x2a8473(0x14d)]()>0.5?0x1:0x0;}this['_device'][_0x2a8473(0x15d)][_0x2a8473(0xd7)](this[_0x2a8473(0x114)][0x0],0x0,this['_cellStatus']),this[_0x2a8473(0x148)][_0x2a8473(0x15d)]['writeBuffer'](this[_0x2a8473(0x114)][0x1],0x0,this[_0x2a8473(0xf4)]),this[_0x2a8473(0xe3)]=0x0;}async[_0xeac11c(0x13b)](){const _0x32742c=_0xeac11c;this[_0x32742c(0x100)]=this['_device'][_0x32742c(0x170)]({'label':_0x32742c(0x10e)+this['getName'](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x32742c(0x106)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x32742c(0x106)]|GPUShaderStage[_0x32742c(0x182)],'buffer':{'type':_0x32742c(0x101)}},{'binding':0x2,'visibility':GPUShaderStage[_0x32742c(0x182)],'buffer':{'type':_0x32742c(0x19a)}},{'binding':0x3,'visibility':GPUShaderStage['VERTEX']|GPUShaderStage[_0x32742c(0x182)],'buffer':{}}]}),this[_0x32742c(0x12e)]=this['_device'][_0x32742c(0x163)]({'label':_0x32742c(0xdc),'bindGroupLayouts':[this[_0x32742c(0x100)]]}),this[_0x32742c(0x10d)]=this[_0x32742c(0x148)][_0x32742c(0x13b)]({'label':'Grid\x20Render\x20Pipeline\x20'+this[_0x32742c(0x13e)](),'layout':this['_pipelineLayout'],'vertex':{'module':this[_0x32742c(0x138)],'entryPoint':'vertexMain','buffers':[this[_0x32742c(0xdd)]]},'fragment':{'module':this[_0x32742c(0x138)],'entryPoint':_0x32742c(0x12c),'targets':[{'format':this[_0x32742c(0x144)]}]},'primitive':{'topology':this[_0x32742c(0x174)]}}),this[_0x32742c(0x1a3)]=[this[_0x32742c(0x148)][_0x32742c(0x175)]({'label':_0x32742c(0x15f)+this[_0x32742c(0x13e)](),'layout':this['_renderPipeline'][_0x32742c(0x146)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x32742c(0x116)]}},{'binding':0x1,'resource':{'buffer':this[_0x32742c(0x114)][0x0]}},{'binding':0x2,'resource':{'buffer':this['_cellStateBuffers'][0x1]}},{'binding':0x3,'resource':{'buffer':this[_0x32742c(0xfa)]}}]}),this[_0x32742c(0x148)][_0x32742c(0x175)]({'label':'Grid\x20Bind\x20Group\x202\x20'+this[_0x32742c(0x13e)](),'layout':this[_0x32742c(0x10d)][_0x32742c(0x146)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x32742c(0x116)]}},{'binding':0x1,'resource':{'buffer':this[_0x32742c(0x114)][0x1]}},{'binding':0x2,'resource':{'buffer':this[_0x32742c(0x114)][0x0]}},{'binding':0x3,'resource':{'buffer':this[_0x32742c(0xfa)]}}]})];}[_0xeac11c(0x127)](_0xd777c6){const _0x4b39be=_0xeac11c;_0xd777c6[_0x4b39be(0x143)](this[_0x4b39be(0x10d)]),_0xd777c6['setVertexBuffer'](0x0,this[_0x4b39be(0x128)]),_0xd777c6[_0x4b39be(0x13a)](0x0,this[_0x4b39be(0x1a3)][this[_0x4b39be(0xe3)]%0x2]),_0xd777c6[_0x4b39be(0x1af)](this[_0x4b39be(0xe2)][_0x4b39be(0xe0)]/0x2,this['_numInstances']);}async[_0xeac11c(0x180)](){const _0x5f4c41=_0xeac11c;this[_0x5f4c41(0x1a4)]=this[_0x5f4c41(0x148)][_0x5f4c41(0x180)]({'label':_0x5f4c41(0x10c)+this['getName'](),'layout':this[_0x5f4c41(0x12e)],'compute':{'module':this[_0x5f4c41(0x138)],'entryPoint':_0x5f4c41(0x126)}});}['setCell'](_0x3422cd,_0x15649a,_0xcd52f8){const _0x551a26=_0xeac11c;if(_0x3422cd<0x0||_0x3422cd>=this[_0x551a26(0xeb)]||_0x15649a<0x0||_0x15649a>=this[_0x551a26(0xfb)])return;const _0x1e41cf=_0x15649a*this[_0x551a26(0xeb)]+_0x3422cd;this['_cellStatus'][_0x1e41cf]=_0xcd52f8,this[_0x551a26(0x148)]['queue']['writeBuffer'](this['_cellStateBuffers'][this[_0x551a26(0xe3)]%0x2],0x0,this[_0x551a26(0xf4)]);}['toggleCell'](_0x155389,_0x37d8ee){const _0x49bc8c=_0xeac11c,_0x10cf7e=_0x37d8ee*this['_gridWidth']+_0x155389;this['setCell'](_0x155389,_0x37d8ee,this[_0x49bc8c(0xf4)][_0x10cf7e]===0x1?0x0:0x1);}[_0xeac11c(0x108)](_0x188489){const _0x1c3dda=_0xeac11c;_0x188489[_0x1c3dda(0x143)](this[_0x1c3dda(0x1a4)]),_0x188489['setBindGroup'](0x0,this[_0x1c3dda(0x1a3)][this[_0x1c3dda(0xe3)]%0x2]),_0x188489[_0x1c3dda(0x16d)](Math[_0x1c3dda(0x119)](this[_0x1c3dda(0xeb)]/0x4),Math['ceil'](this[_0x1c3dda(0xfb)]/0x4)),++this[_0x1c3dda(0xe3)];}};function _0x5e6c(_0x2cec7c,_0x49950f){_0x2cec7c=_0x2cec7c-0xd7;const _0x58ee65=_0x58ee();let _0x5e6ca0=_0x58ee65[_0x2cec7c];return _0x5e6ca0;};async function init(){const _0x57c66f=_0xeac11c,_0x4bf1eb=document[_0x57c66f(0x130)](_0x57c66f(0x16b));_0x4bf1eb['id']=_0x57c66f(0x176),document[_0x57c66f(0x14e)][_0x57c66f(0x12f)](_0x4bf1eb);const _0x2b5932=new Renderer(_0x4bf1eb);await _0x2b5932[_0x57c66f(0x186)]();var _0x364e53=new Float32Array([-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5]),_0x519826=0x800,_0x3948cc=0x800,_0x2b3bc7=![];let _0x25d13c=new Camera();var _0x4d1f16=new Grid(_0x2b5932[_0x57c66f(0x148)],_0x2b5932['_canvasFormat'],_0x25d13c[_0x57c66f(0x198)],_0x364e53,_0x57c66f(0xf3),_0x57c66f(0x124),_0x519826*_0x3948cc);await _0x2b5932[_0x57c66f(0x19f)](_0x4d1f16);let _0x563ab6='??';var _0x12b26f=new StandardTextObject(_0x57c66f(0xef)+_0x563ab6);_0x12b26f['setPosition'](0x384,0xa);var _0x3d6aaf=new StandardTextObject('Instructions:\x0a'+_0x57c66f(0x1ac)+_0x57c66f(0x19b)+_0x57c66f(0x131)+_0x57c66f(0x10a)+'-\x20Pause/Resume\x20(P)\x0a'+_0x57c66f(0x19c)+_0x57c66f(0x154)+_0x57c66f(0x177)+_0x57c66f(0xee)),_0x30f9c4=0.05;window['addEventListener'](_0x57c66f(0x18a),_0x2cb039=>{const _0x4120ac=_0x57c66f;switch(_0x2cb039[_0x4120ac(0x181)]){case'ArrowUp':case'w':case'W':_0x25d13c['moveUp'](_0x30f9c4),_0x4d1f16[_0x4120ac(0x15a)]();break;case'ArrowDown':case's':case'S':_0x25d13c['moveDown'](_0x30f9c4),_0x4d1f16[_0x4120ac(0x15a)]();break;case _0x4120ac(0x13d):case'a':case'A':_0x25d13c['moveLeft'](_0x30f9c4),_0x4d1f16[_0x4120ac(0x15a)]();break;case'ArrowRight':case'd':case'D':_0x25d13c[_0x4120ac(0x117)](_0x30f9c4),_0x4d1f16[_0x4120ac(0x15a)]();break;case'q':case'Q':_0x25d13c[_0x4120ac(0x1a0)](),_0x4d1f16['updateCameraPose']();break;case'e':case'E':_0x25d13c[_0x4120ac(0xed)](),_0x4d1f16[_0x4120ac(0x15a)]();break;case'f':case'F':_0x12b26f['toggleVisibility']();break;case'p':case'P':_0x2b3bc7=!_0x2b3bc7;if(!_0x2b3bc7)_0x105dd1();break;case'r':case'R':_0x4d1f16['reset'](),_0x2b5932['render']();break;case'[':_0x43a98e=Math['max'](0x1,_0x43a98e-0x1),_0x1aa972=0x3e8/_0x43a98e;break;case']':_0x43a98e++,_0x1aa972=0x3e8/_0x43a98e;break;}}),_0x4bf1eb[_0x57c66f(0x156)](_0x57c66f(0xf6),_0x6e10db=>{const _0x576c23=_0x57c66f;var _0x511033=_0x6e10db[_0x576c23(0x151)]/window['innerWidth']*0x2-0x1,_0x51e304=-_0x6e10db['clientY']/window[_0x576c23(0x129)]*0x2+0x1;_0x511033/=_0x25d13c[_0x576c23(0x198)][0x4],_0x51e304/=_0x25d13c[_0x576c23(0x198)][0x5];let _0x39cbc8=PGA2D[_0x576c23(0x125)]([_0x511033,_0x51e304],[_0x25d13c['_pose'][0x0],_0x25d13c[_0x576c23(0x198)][0x1],_0x25d13c['_pose'][0x2],_0x25d13c['_pose'][0x3]]),_0xe516dc=0x1,_0x264921=_0xe516dc*0x2,_0x33da92=Math['floor']((_0x39cbc8[0x0]+_0xe516dc)/_0x264921*_0x519826),_0x5b125b=Math['floor']((_0x39cbc8[0x1]+_0xe516dc)/_0x264921*_0x519826);if(_0x33da92>=0x0&&_0x33da92<_0x519826&&_0x5b125b>=0x0&&_0x5b125b<_0x519826){let _0x41c8f5=-_0xe516dc+_0x33da92/_0x519826*_0x264921+_0x264921/_0x519826*0.5,_0x29202e=-_0xe516dc+_0x5b125b/_0x519826*_0x264921+_0x264921/_0x519826*0.5;-0.5/_0x519826+_0x41c8f5<=_0x39cbc8[0x0]&&_0x39cbc8[0x0]<=0.5/_0x519826+_0x41c8f5&&-0.5/_0x519826+_0x29202e<=_0x39cbc8[0x1]&&_0x39cbc8[0x1]<=0.5/_0x519826+_0x29202e&&console[_0x576c23(0x16e)]('in\x20cell\x20('+_0x33da92+',\x20'+_0x5b125b+')');}});let _0x31f37c={'x':0x0,'y':0x0},_0x3d9004=![];_0x4bf1eb['addEventListener'](_0x57c66f(0xf6),_0x35cac3=>{const _0x5ab5e0=_0x57c66f;if(!_0x3d9004)return;const _0x1d5944=mouseToNDC(_0x35cac3),_0x2bf998=_0x1d5944[0x0]-_0x31f37c['x'],_0x5afde7=_0x1d5944[0x1]-_0x31f37c['y'];let _0x1ac085=Math[_0x5ab5e0(0xe8)](Math[_0x5ab5e0(0xdb)](_0x2bf998,0x2)+Math['pow'](_0x5afde7,0x2));if(_0x1ac085>0.001){_0x31f37c['x']=_0x1d5944[0x0],_0x31f37c['y']=_0x1d5944[0x1];if(_0x2bf998>0x0)_0x25d13c['moveRight'](-_0x2bf998);else _0x25d13c[_0x5ab5e0(0xf1)](_0x2bf998);if(_0x5afde7>0x0)_0x25d13c[_0x5ab5e0(0x160)](-_0x5afde7);else _0x25d13c[_0x5ab5e0(0x1ad)](_0x5afde7);_0x4d1f16['updateCameraPose'](),_0x2b5932[_0x5ab5e0(0x127)]();}}),_0x4bf1eb[_0x57c66f(0x156)]('mousedown',_0x4e16f0=>{_0x3d9004=!![];const _0x11c35b=mouseToNDC(_0x4e16f0);_0x31f37c['x']=_0x11c35b[0x0],_0x31f37c['y']=_0x11c35b[0x1];}),_0x4bf1eb[_0x57c66f(0x156)](_0x57c66f(0x142),_0x1c2d28=>{const _0x101fca=_0x57c66f;if(!_0x2b3bc7)return;const _0x1bf8ce=mouseToNDC(_0x1c2d28);let _0x254b0b=PGA2D[_0x101fca(0x125)]([_0x1bf8ce[0x0]/_0x25d13c[_0x101fca(0x198)][0x4],_0x1bf8ce[0x1]/_0x25d13c[_0x101fca(0x198)][0x5]],[_0x25d13c['_pose'][0x0],_0x25d13c[_0x101fca(0x198)][0x1],_0x25d13c['_pose'][0x2],_0x25d13c['_pose'][0x3]]),_0x153d9a=0x1,_0x403ec8=_0x153d9a*0x2,_0x53668c=Math[_0x101fca(0x105)]((_0x254b0b[0x0]+_0x153d9a)/_0x403ec8*_0x3948cc),_0x4323f9=Math[_0x101fca(0x105)]((_0x254b0b[0x1]+_0x153d9a)/_0x403ec8*_0x519826);_0x53668c>=0x0&&_0x53668c<_0x3948cc&&_0x4323f9>=0x0&&_0x4323f9<_0x519826&&(_0x4d1f16[_0x101fca(0x14c)](_0x53668c,_0x4323f9),_0x2b5932[_0x101fca(0x127)]());}),_0x4bf1eb[_0x57c66f(0x156)](_0x57c66f(0x17a),_0x13d60f=>{_0x3d9004=![];}),_0x4bf1eb[_0x57c66f(0x156)](_0x57c66f(0x164),_0x38d3c5=>{_0x3d9004=![];});var _0x375457=0x0,_0x43a98e=0x3c,_0xa603a3=0x1/_0x43a98e,_0x1aa972=_0xa603a3*0x3e8,_0x255b6b;let _0x105dd1=()=>{const _0x139102=_0x57c66f;let _0x4c3bd5=Date['now']()-_0x255b6b;_0x4c3bd5>_0x1aa972&&(++_0x375457,_0x255b6b=Date['now']()-_0x4c3bd5%_0x1aa972,_0x2b5932[_0x139102(0x127)]());if(!_0x2b3bc7)requestAnimationFrame(_0x105dd1);};return _0x255b6b=Date['now'](),_0x105dd1(),setInterval(()=>{const _0x5b3d23=_0x57c66f;_0x12b26f[_0x5b3d23(0x12b)](_0x5b3d23(0xef)+_0x375457),_0x375457=0x0;},0x3e8),_0x2b5932;}function _0x58ee(){const _0xe57278=['normalizeMotor','_gridInfoBuffer','_gridHeight','655WcAarZ','byteLength','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','measureText','_bindGroupLayout','read-only-storage','gpu','_objects','11297lndcfw','floor','VERTEX','UNIFORM','compute','Cache-Control','-\x20Zoom\x20Out\x20(E)\x0a','createGeometry','Grid\x20update\x20pipeline\x20','_renderPipeline','Grid\x20Bind\x20Group\x20Layout\x20','Camera\x20Pose\x20','readyState','_paddingtop','BYTES_PER_ELEMENT','_numInstances','_cellStateBuffers','_canvasHeight','_cameraPoseBuffer','moveRight','border','ceil','fillText','abs','forEach','absolute','store','STORAGE','loadShader','max','createShaders','13806JXpGun','line-strip','applyMotorToPoint','computeMain','render','_vertexBuffer','innerHeight','536rxRYJN','updateText','fragmentMain','</br>','_pipelineLayout','appendChild','createElement','-\x20Zoom\x20In\x20(Q)\x0a','updatePose','style','Vertices\x20','_width','getContext','toString','_shaderModule','then','setBindGroup','createRenderPipeline','end','ArrowLeft','getName','devicePixelRatio','1137966CDLcfu','_textFont','mousedown','setPipeline','_canvasFormat','match','getBindGroupLayout','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','_device','15060aVQENx','beginRenderPass','geometricProduct','toggleCell','random','body','createPoint','innerHTML','clientX','Grid\x20status\x20Buffer\x202\x20','reset','-\x20Increase\x20FPS\x20([)\x0a','_paddingx','addEventListener','requestAdapter','getElementById','10px','updateCameraPose','resize','Render\x20Pipeline\x20','queue','5540402wwVDxh','Grid\x20Bind\x20Group\x201\x20','moveUp','GET','setRequestHeader','createPipelineLayout','mouseleave','innerWidth','createRotor','createView','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','no-cache,\x20no-store,\x20max-age=0','canvas','renderToSelectedView','dispatchWorkgroups','log','clearRect','createBindGroupLayout','_clearColor','453803FWXCpa','getPreferredCanvasFormat','_topology','createBindGroup','renderCanvas','-\x20Decrease\x20FPS\x20(])\x0a','hidden','_lines','mouseup','103842tCWDQZ','_lineSpacing','top','_canvasWidth','message','createComputePipeline','key','COMPUTE','float32x2','webgpu','applyMotor','init','_fontSize','reverse','left','keydown','_height','rgba(1,\x201,\x201,\x200.5)','sin','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','setPosition','Renderer\x20Bind\x20Group\x20','_canvas','open','statusText','isOriginalSize','_context','_cameraPose','name','_pose','resizeCanvas','storage','-\x20Move\x20Camera\x20(Arrow\x20keys\x20/\x20WASD)\x0a','-\x20View/Hide\x20FPS\x20(F)\x0a','status','_textCanvas','appendSceneObject','zoomIn','vertexMain','fillStyle','_bindGroups','_computePipeline','32564IOwAPc','position','_textContext','18px\x20Arial','onload','\x20Shader\x20','updateTextRegion','-\x20Toggle\x20Cell\x20(Left\x20Click)\x0a','moveDown','responseText','draw','fillRect','writeBuffer','requestDevice','bind','createBuffer','pow','Grid\x20Pipeline\x20Layout','_vertexBufferLayout','_shaderFile','motorNorm','length','submit','_vertices','_step','width','createTranslator','_bindGroup','extractPoint','sqrt','_objectCnt','beginComputePass','_gridWidth','COPY_DST','zoomOut','-\x20Reset\x20(R)','fps:\x20','toggleVisibility','moveLeft','height','/lib/Shaders/optimized_reverse_camera_pga_grid_dynamic.wgsl','_cellStatus','Couldn\x27t\x20request\x20WebGPU\x20adapter.','mousemove','Grid\x20status\x20Buffer\x201\x20','441zmMMdN'];_0x58ee=function(){return _0xe57278;};return _0x58ee();}function mouseToNDC(_0x4a1d75){const _0x2b8519=_0xeac11c,_0x1e39af=_0x4a1d75[_0x2b8519(0x151)]/window[_0x2b8519(0x165)]*0x2-0x1,_0x2f17f8=-_0x4a1d75['clientY']/window['innerHeight']*0x2+0x1;return[_0x1e39af,_0x2f17f8];}init()[_0xeac11c(0x139)](_0x5e00a6=>{console['log'](_0x5e00a6);})['catch'](_0x2a0a58=>{const _0x1de7ea=_0xeac11c,_0x129e6d=document[_0x1de7ea(0x130)]('p');_0x129e6d[_0x1de7ea(0x150)]=navigator['userAgent']+_0x1de7ea(0x12d)+_0x2a0a58[_0x1de7ea(0x17f)],document[_0x1de7ea(0x14e)]['appendChild'](_0x129e6d),document[_0x1de7ea(0x158)](_0x1de7ea(0x176))['remove']();});